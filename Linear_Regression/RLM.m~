x = load('dataset1_inputs.txt');
t = load('dataset1_outputs.txt');

p = polyfit(x,t,20);
results = polyval(p,x);
errors = zeros(1,20);
n = norm(p)^2;
for i=1:20
    errors(i) = sum(0.5 .* (results - t).^2 + (exp(-i)/2 * n));
end

figure;
plot([1:1:20],errors,'-*');
title('RLM, regularized square loss vs ln(lambda)');
xlabel('ln(lambda) * -1');
ylabel('Regularized Square Loss');

%step 5 visualization
disp_data = [polyval(polyfit(x,t,1),x),polyval(polyfit(x,t,5),x),polyval(polyfit(x,t,10),x),polyval(polyfit(x,t,20),x),polyval(polyfit(x,t,30),x)];
disp_norms = [norm(disp_data(1)),norm(disp_data(5)),norm(disp_data(10)),norm(disp_data(20)),norm(disp_data(30))];
disp_norms = disp_norms.^2;
disp_errors = zeros(1,